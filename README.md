# AHCAgent

A standalone command-line tool for solving AtCoder Heuristic Contest (AHC) problems using an AlphaEvolve-inspired approach.

## ‚ú® Features

- Problem analysis and solution strategy development utilizing LLMs.
- Solution search and optimization based on evolutionary algorithms.
- Docker integration for C++ code compilation and execution.
- Interactive mode supporting a step-by-step problem-solving process.
- Knowledge base feature for managing progress and results for each experiment session.
- Flexible configuration management via YAML files.

## üõ†Ô∏è Installation

```bash
pip install ahc-agent
```

## üìã Requirements

- Python 3.8 or higher
- Docker (required for C++ code compilation and execution)
- LLM API Access (supports OpenAI, Anthropic, etc., via LiteLLM)
- **Note:** You need to set environment variables like `OPENAI_API_KEY` to use LLM features.

## üöÄ Quick Start

### 1\. Initialize a Project

Initializes a new AHC project for a specific contest.
Creates a project directory (named after the `CONTEST_ID` by default, or as specified by `--workspace`)
and a configuration file (`config.yaml`) within it.
This configuration file will store the `contest_id`, as well as default `template` and `docker_image` settings.
The command will also attempt to scrape the problem statement for the given `CONTEST_ID`.

```bash
ahc-agent init ahc001 --workspace ./my_ahc_project
```

- `CONTEST_ID`: (Required) The ID of the AtCoder Heuristic Contest (e.g., `ahc001`).
- `--workspace PATH` (`-w`): Specify the directory to create the project in.
  If not set, a directory named after the `CONTEST_ID` is created in the current location.
- `--html FILE_PATH`: Specify the path to a local HTML file containing the problem statement. If provided, the problem statement will be parsed from this file instead of being fetched from the AtCoder website. This is useful when you have the problem statement saved locally or when direct web access is unavailable or fails.

### 2\. Solve a Problem

Solves the problem based on the problem description and configuration within the specified workspace directory.
**The workspace directory must contain `problem.md` (the problem statement) and `config.yaml` (the project configuration).**
If test case files (e.g., `test01.txt`, `test02.txt`) exist in the `tools/in` subdirectory of the workspace, they will be automatically used for evaluation. Otherwise, test cases will be generated by the LLM based on the problem analysis.

```bash
ahc-agent solve path/to/your_workspace_directory --interactive
```

- `WORKSPACE`: Path to the workspace directory.
- `--interactive` (`-i`): Enable interactive mode for solving.
- `--session-id` (`-s`): Session ID for resuming a previous solve session.

### 3\. Solve a Problem in Interactive Mode

Guides you through the problem-solving process step-by-step using the problem and configuration in the specified workspace.
**The workspace directory must contain `problem.md` and `config.yaml`.**

```bash
ahc-agent solve path/to/your_workspace_directory --interactive
```

Available commands in interactive mode:

- `analyze`: Execute problem analysis.
- `strategy`: Devise solution strategy.
- `testcases`: Generate test cases and score calculator.
- `initial`: Generate initial solution.
- `evolve`: Run evolutionary search.
- `status`: Display current status.
- `help`: Display command list.
- `exit`: Exit interactive mode.

## ‚öôÔ∏è Configuration

Configuration is primarily managed by the `config.yaml` file within the workspace. Settings specified in this file will override the global default settings.

- **Workspace Configuration (`config.yaml`)**: These are project (workspace) specific settings. When the `init` command is executed, basic settings such as the contest ID are written to this file. Users can customize settings like the LLM model and Docker image by editing this file.
- **Default Configuration**: If a specific key is not present in `config.yaml`, or if the file itself does not exist (e.g., when manually preparing a workspace without running `init` before executing the `solve` command), the application's built-in default settings will be used.

Currently, the functionality to override detailed configuration values via command-line options or environment variables is limited.

## üìú License

[MIT](https://www.google.com/search?q=LICENSE)
